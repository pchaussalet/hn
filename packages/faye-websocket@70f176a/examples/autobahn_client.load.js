montageDefine("70f176a","examples/autobahn_client",{dependencies:["../lib/faye/websocket","permessage-deflate","pace"],factory:function(e){var t,n,i=e("../lib/faye/websocket"),r=e("permessage-deflate"),a=e("pace"),s="ws://localhost:9001",o=encodeURIComponent("node-"+process.version),l=0,c={extensions:[r]},u=new i.Client(s+"/getCaseCount");u.onmessage=function(e){console.log("Total cases to run: "+e.data),l=parseInt(e.data),n=a(l)};var h=function(e){return e>l?(t=s+"/updateReports?agent="+o,u=new i.Client(t),u.onclose=process.exit,void 0):(t=s+"/runCase?case="+e+"&agent="+o,u=new i.Client(t,null,c),u.pipe(u),u.on("close",function(){n.op(),h(e+1)}),void 0)};u.onclose=function(){h(1)}}});