montageDefine("70f176a","examples/ws.html",{text:'<!DOCTYPE html><html><head>\n    <meta http-equiv=Content-type content="text/html; charset=utf-8">\n    <title>WebSocket test</title>\n  </head>\n  <body>\n\n    <h1>WebSocket test</h1>\n    <ul></ul>\n\n    <script>var logger=document.getElementsByTagName("ul")[0],Socket=window.MozWebSocket||window.WebSocket,protos=["foo","bar","xmpp"],socket=new Socket("ws://"+location.hostname+":"+location.port+"/",protos),index=0,log=function(e){logger.innerHTML+="<li>"+e+"</li>"};socket.addEventListener("open",function(){log("OPEN: "+socket.protocol),socket.send("Hello, world")}),socket.onerror=function(e){log("ERROR: "+e.message)},socket.onmessage=function(e){log("MESSAGE: "+e.data),setTimeout(function(){socket.send(++index+" "+e.data)},2e3)},socket.onclose=function(e){log("CLOSE: "+e.code+", "+e.reason)};</script>\n\n  \n\n</body></html>'});