montageDefine("b52e2a0","core/meta/binder-reference",{dependencies:["../core","../promise","./remote-reference","./binder","../logger"],factory:function(t,e){"use strict";t("../core").Montage;var n=t("../promise").Promise,i=t("./remote-reference").RemoteReference,r=t("./binder");t("../logger").logger("blueprint"),e.BinderReference=i.create(i,{constructor:{value:function(){this.superForValue("constructor")()}},identifier:{get:function(){return this._reference||(this._reference=this.referenceFromValue(this._value)),["binder",this._reference.binderName.toLowerCase(),"reference"].join("_")}},valueFromReference:{value:function(t,e){var i=t.binderName,a=t.binderModuleId,o=n.defer(),s=r.Binder.manager.binderForName(i);if(s)o.resolve(s);else try{var l=e,c=a.indexOf("/");if(c>0){var u=a.substring(0,c),h=e.mappings;u in h&&(a=a.substring(c+1),l=l.getPackage(h[u].location))}o=r.Binder.getBinderWithModuleId(a,l)}catch(d){o.reject(Error("Error cannot find Blueprint Binder "+a))}return o.promise}},referenceFromValue:{value:function(t){var e={};return e.binderName=t.name,e.binderModuleId=t.binderModuleId,e}}})}});