montageDefine("b52e2a0","core/serialization/deserializer/montage-interpreter",{dependencies:["../../core","mousse/deserialization/interpreter","mousse/deserialization/context","./montage-reviver","../../promise"],factory:function(t,e){var n=t("../../core").Montage,i=t("mousse/deserialization/interpreter").Interpreter,r=t("mousse/deserialization/context").Context,a=t("./montage-reviver").MontageReviver,o=t("../../promise").Promise,s=n.specialize.call(i,{_require:{value:null},_reviver:{value:null},init:{value:function(t,e){if("function"!=typeof t)throw Error("Function 'require' missing.");return this._reviver=(new a).init(t,e),this._require=t,this}},instantiate:{value:function(t,e,n){var i;return i=(new l).init(t,this._reviver,e,n,this._require),i.getObjects()}},preloadModules:{value:function(t){var e,n,i,r,s=this._reviver,l=s.moduleLoader,c=[];for(var u in t)e=t[u],n=e.prototype||e.object,n&&(i=a.parseObjectLocationId(n),r=l.getModule(i.moduleId,u),o.isPromise(r)&&c.push(r));return c.length>0?o.all(c):void 0}}}),l=n.specialize.call(r,{_ELEMENT_ID_ATTRIBUTE:{value:"data-montage-id"},_unitsToDeserialize:{value:null},_element:{value:null},_require:{value:null},constructor:{value:function(){this._unitsToDeserialize=[]}},init:{value:function(t,e,n,i,a){return r.call(this,t,e,n),this._element=i,this._require=a,this}},hasObject:{value:function(t){return t in this._serialization}},getRequire:{value:function(){return this._require}},getElement:{value:function(){return this._element}},getElementById:{value:function(t){var e="*["+this._ELEMENT_ID_ATTRIBUTE+'="'+t+'"]';return this._element.querySelector(e)}},setUnitsToDeserialize:{value:function(t,e,n){this._unitsToDeserialize.push({object:t,objectDesc:e,unitNames:n})}},getUnitsToDeserialize:{value:function(){return this._unitsToDeserialize}}});e.MontageInterpreter=s,e.MontageContext=l}});