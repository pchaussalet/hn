montageDefine("6746814","lib/parser",{dependencies:[],factory:function(e,t,n){"use strict";var i=/([!#\$%&'\*\+\-\.\^_`\|~0-9a-z]+)/,r=/([^!#\$%&'\*\+\-\.\^_`\|~0-9a-z])/g,a=/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"])*)"/,o=RegExp(i.source+"(?:=(?:"+i.source+"|"+a.source+"))?"),s=RegExp(i.source+"(?: *; *"+o.source+")*","g"),l=RegExp("^"+s.source+"(?: *, *"+s.source+")*$"),c=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,u={parseHeader:function(e){var t=new h;if(""===e||void 0===e)return t;if(!l.test(e))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+e);var n=e.match(s);return n.forEach(function(e){var n=e.match(RegExp(o.source,"g")),i=n.shift(),r={};n.forEach(function(e){var t,n=e.match(o),i=n[1];t=void 0!==n[2]?n[2]:void 0!==n[3]?n[3].replace(/\\/g,""):!0,c.test(t)&&(t=parseFloat(t)),r.hasOwnProperty(i)?(r[i]=[].concat(r[i]),r[i].push(t)):r[i]=t},this),t.push(i,r)},this),t},serializeParams:function(e,t){var n=[],i=function(e,t){t instanceof Array?t.forEach(function(t){i(e,t)}):t===!0?n.push(e):"number"==typeof t?n.push(e+"="+t):r.test(t)?n.push(e+'="'+t.replace(/"/g,'\\"')+'"'):n.push(e+"="+t)};for(var a in t)i(a,t[a]);return[e].concat(n).join("; ")}},h=function(){this._byName={},this._inOrder=[]};h.prototype.push=function(e,t){this._byName[e]=this._byName[e]||[],this._byName[e].push(t),this._inOrder.push({name:e,params:t})},h.prototype.eachOffer=function(e,t){for(var n=this._inOrder,i=0,r=n.length;r>i;i++)e.call(t,n[i].name,n[i].params)},h.prototype.byName=function(e){return this._byName[e]||[]},h.prototype.toArray=function(){return this._inOrder.slice()},n.exports=u}});